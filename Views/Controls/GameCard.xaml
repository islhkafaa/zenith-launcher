<?xml version="1.0" encoding="utf-8"?>
<UserControl
    x:Class="Zenith_Launcher.Views.Controls.GameCard"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Width="200"
    Height="280"
    PointerEntered="OnPointerEntered"
    PointerExited="OnPointerExited">

    <Grid x:Name="RootGrid" CornerRadius="8" Background="{ThemeResource CardBackgroundFillColorDefaultBrush}">
        <Grid.ContextFlyout>
            <MenuFlyout>
                <MenuFlyoutItem Text="Launch" Click="OnLaunchClick">
                    <MenuFlyoutItem.Icon>
                        <FontIcon Glyph="&#xE768;"/>
                    </MenuFlyoutItem.Icon>
                </MenuFlyoutItem>
                <MenuFlyoutItem Text="Edit" Click="OnEditClick">
                    <MenuFlyoutItem.Icon>
                        <FontIcon Glyph="&#xE70F;"/>
                    </MenuFlyoutItem.Icon>
                </MenuFlyoutItem>
                <MenuFlyoutSeparator/>
                <MenuFlyoutItem Text="Delete" Click="OnDeleteClick">
                    <MenuFlyoutItem.Icon>
                        <FontIcon Glyph="&#xE74D;"/>
                    </MenuFlyoutItem.Icon>
                </MenuFlyoutItem>
            </MenuFlyout>
        </Grid.ContextFlyout>

        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <Border Grid.Row="0" CornerRadius="8,8,0,0" Background="{ThemeResource AccentFillColorDefaultBrush}">
            <TextBlock
                Text="&#xE7FC;"
                FontFamily="Segoe Fluent Icons"
                FontSize="64"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
        </Border>

        <StackPanel Grid.Row="1" Padding="12" Spacing="4">
            <TextBlock
                Text="{x:Bind Game.Title, Mode=OneWay}"
                Style="{StaticResource BodyStrongTextBlockStyle}"
                TextTrimming="CharacterEllipsis"
                MaxLines="1"/>

            <Border
                Background="{ThemeResource AccentFillColorDefaultBrush}"
                CornerRadius="4"
                Padding="6,2"
                HorizontalAlignment="Left">
                <TextBlock
                    Text="{x:Bind Game.Platform, Mode=OneWay}"
                    Style="{StaticResource CaptionTextBlockStyle}"
                    Foreground="{ThemeResource TextOnAccentFillColorPrimaryBrush}"/>
            </Border>

            <TextBlock
                Text="{x:Bind FormatPlayTime(Game.PlayTime), Mode=OneWay}"
                Style="{StaticResource CaptionTextBlockStyle}"
                Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
        </StackPanel>
    </Grid>
</UserControl>
